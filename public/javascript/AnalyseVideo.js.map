{"version":3,"sources":["AnalyseVideo.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AnalyseVideo.js","sourcesContent":["$(function(){\n    // global vars\n    var activePart = 0;\n    var videoPosition = 0;\n    var player = videojs('player');\n\n    // copy timeline into player\n    var timeline_html = $('#chapters-wrapper-copy').html();\n    //$('#chapters-wrapper-copy').remove();\n    $(\".vjs-progress-control .vjs-progress-holder\").prepend(timeline_html);\n\n    // set the active timeline\n    var setActiveTimeline = function(part){\n        $(\".chapters-wrapper .chapter\").removeClass(\"active\");\n        var apart = $(\".chapters-wrapper .chapter\").get(part);\n        $(apart).addClass(\"active\");\n    }\n\n    // set the done part timeline\n    var setDoneTimeline = function(part){\n        var dpart = $(\".chapters-wrapper .chapter\").get(part);\n        $(dpart).addClass(\"done\");\n    }\n\n    // set the active part\n    var startPart = function(part){\n        activePart = part;\n        var item = $(\".chapters-wrapper .chapter\").get(part);\n        player.currentTime($(item).attr(\"data-start\"));\n        showInterface(part);\n    }\n\n    // loop a part\n    var loopPart = function(part){\n        var active = $(\".chapters-wrapper .chapter\").get(part);\n        if($(active).attr(\"data-start\") > videoPosition || videoPosition > $(active).attr(\"data-end\")){\n            startPart(part);\n        }\n    }\n\n    // set the active questionaire\n    var showQuestionaire = function(part){\n        $(\".part\").hide();\n        $(\"#part-\"+part).show();\n    }\n\n    // get the part based on the position\n    var getPart = function(position){\n        $(\".chapters-wrapper .chapter\").each(function(index, value){\n            if($(this).attr(\"data-start\") <= position && position < $(this).attr(\"data-end\")){\n                return index;\n            }\n        })\n        console.log(\"invalid\");\n    }\n\n    // show interface of part\n    var showInterface = function(part){\n        setActiveTimeline(part);\n        showQuestionaire(part);\n    }\n\n    // get the position of the video\n    player.on('timeupdate', function() {\n        videoPosition = player.currentTime()\n        loopPart(activePart);\n    });\n\n    // change the active part when clicked on a chapter\n    $('.chapters-wrapper .chapter').click(function(){\n        part = $(this).attr('data-part');\n        if(activePart != part){\n            startPart(part);\n        }\n    });\n\n    // set the height of the full scroll\n    var setFullScroll = function (){\n        var width = $(window).width();\n        if(width >= 993){\n            $(\".full-scroll\").css(\"max-height\",$(window).height()-40);\n        } else {\n            $(\".full-scroll\").css(\"max-height\",\"auto\");\n        }\n    }\n    setFullScroll();\n    $( window ).resize(function() {\n      setFullScroll();\n    });\n\n    // set the initial part to 0\n    startPart(0);\n\n});\n"],"sourceRoot":"/source/"}